{% extends 'core/base.html' %} {% block title %}Booking History{% endblock %} 
{%block content %}

<h2 class="text-2xl font-bold mb-6">Your Booking History</h2>

{% if bookings %}
<div class="overflow-x-auto bg-white shadow-md rounded-lg">
  <table class="min-w-full table-auto">
    <thead class="bg-gray-100 text-left text-sm font-semibold text-gray-700">
      <tr>
        <th class="px-4 py-3">Date</th>
        <th class="px-4 py-3">Time</th>
        <th class="px-4 py-3">Clinic</th>
        <th class="px-4 py-3">Status</th>
        <th class="px-4 py-3">Actions</th>
      </tr>
    </thead>
    <tbody class="text-sm text-gray-600">
      {% for booking in bookings %}
      <tr class="border-t">
        <td class="px-4 py-3">{{ booking.slot.date }}</td>
        <td class="px-4 py-3">
          {{ booking.slot.start_time }} - {{ booking.slot.end_time }}
        </td>
        <td class="px-4 py-3">{{ booking.slot.clinic.name }}</td>
        <td class="px-4 py-3">{{ booking.status }}</td>
        <td class="px-4 py-3 space-x-2">
          {% if booking.status == 'Upcoming' %}
          <a
            href="{% url 'cancel_booking' booking.id %}"
            onclick="return confirm('Are you sure you want to cancel this appointment?')"
            class="inline-block bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600"
            >Cancel</a
          >
          {% endif %}
          <a
            href="{% url 'view_booking' booking.id %}"
            class="text-blue-600 hover:underline"
            >View</a
          >
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% else %}
<p class="text-gray-600">You havenâ€™t booked any appointments yet.</p>
{% endif %} {% endblock %}
